<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>@sonu ‚Äì terminal</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&amp;display=swap" rel="stylesheet">
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      box-sizing: border-box;
      width: 100%;
      min-height: 100%;
      font-family: 'Fira Code', 'JetBrains Mono', 'Consolas', monospace;
      background: linear-gradient(135deg, #050608 0%, #0a0e12 100%);
      position: relative;
      overflow-x: hidden;
    }

    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        repeating-linear-gradient(0deg, rgba(255,255,255,0.03) 0px, transparent 1px, transparent 2px, rgba(255,255,255,0.03) 3px),
        repeating-linear-gradient(90deg, rgba(255,255,255,0.03) 0px, transparent 1px, transparent 2px, rgba(255,255,255,0.03) 3px);
      pointer-events: none;
      z-index: 1;
    }

    html, body {
      height: 100%;
    }

    .container {
      position: relative;
      z-index: 2;
      width: 100%;
      min-height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .terminal {
      background: rgba(18, 22, 26, 0.95);
      border: 1px solid rgba(100, 255, 218, 0.2);
      border-radius: 12px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4), 0 0 80px rgba(100, 255, 218, 0.05);
      width: 100%;
      max-width: 800px;
      overflow: hidden;
    }

    .terminal-header {
      background: rgba(30, 35, 40, 0.8);
      border-bottom: 1px solid rgba(100, 255, 218, 0.1);
      padding: 12px 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .terminal-buttons {
      display: flex;
      gap: 8px;
    }

    .terminal-button {
      width: 12px;
      height: 12px;
      border-radius: 50%;
    }

    .terminal-button.red { background: #ff5f56; }
    .terminal-button.yellow { background: #ffbd2e; }
    .terminal-button.green { background: #27c93f; }

    .terminal-title {
      color: #8b949e;
      font-size: 12px;
      letter-spacing: 0.5px;
    }

    .terminal-body {
      padding: 24px;
      min-height: 400px;
      max-height: 70vh;
      overflow-y: auto;
      color: #c9d1d9;
      font-size: 14px;
      line-height: 1.6;
    }

    .terminal-body::-webkit-scrollbar {
      width: 8px;
    }

    .terminal-body::-webkit-scrollbar-track {
      background: rgba(30, 35, 40, 0.4);
    }

    .terminal-body::-webkit-scrollbar-thumb {
      background: rgba(100, 255, 218, 0.3);
      border-radius: 4px;
    }

    .terminal-body::-webkit-scrollbar-thumb:hover {
      background: rgba(100, 255, 218, 0.5);
    }

    .terminal-line {
      margin-bottom: 8px;
      opacity: 0;
      animation: fadeIn 0.3s forwards;
    }

    @keyframes fadeIn {
      to { opacity: 1; }
    }

    .terminal-output {
      margin-bottom: 16px;
    }

    .prompt {
      color: #64ffda;
      font-weight: 500;
    }

    .accent {
      color: #64ffda;
    }

    .command-input-line {
      display: flex;
      align-items: center;
      margin-top: 16px;
    }

    .command-input-wrapper {
      flex: 1;
      position: relative;
      margin-left: 8px;
    }

    #commandInput {
      background: transparent;
      border: none;
      outline: none;
      color: #c9d1d9;
      font-family: inherit;
      font-size: 14px;
      width: 100%;
      caret-color: #64ffda;
    }

    .cursor {
      display: inline-block;
      width: 8px;
      height: 16px;
      background: #64ffda;
      margin-left: 2px;
      animation: blink 1s infinite;
      vertical-align: text-bottom;
    }

    @keyframes blink {
      0%, 49% { opacity: 1; }
      50%, 100% { opacity: 0; }
    }

    .command-output {
      margin-top: 8px;
      padding-left: 16px;
    }

    .command-list {
      margin-top: 8px;
    }

    .command-item {
      margin-bottom: 6px;
      padding-left: 16px;
    }

    .link-item {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-top: 12px;
      padding-left: 16px;
    }

    .link-item svg {
      width: 20px;
      height: 20px;
      fill: #64ffda;
    }

    .link-item a {
      color: #64ffda;
      text-decoration: none;
      border-bottom: 1px solid transparent;
      transition: border-color 0.3s;
    }

    .link-item a:hover {
      border-bottom-color: #64ffda;
    }

    .error {
      color: #ff6b6b;
    }

    .success {
      color: #51cf66;
    }

    /* Floating Help Button */
    .floating-help {
      position: fixed;
      bottom: 30px;
      right: 30px;
      z-index: 100;
      background: rgba(100, 255, 218, 0.9);
      color: #0a0e12;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      font-weight: bold;
      box-shadow: 0 4px 20px rgba(100, 255, 218, 0.4);
      transition: all 0.3s ease;
    }

    .floating-help:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 30px rgba(100, 255, 218, 0.6);
    }

    .floating-help:active {
      transform: scale(0.95);
    }

    /* Help Panel */
    .help-panel {
      position: fixed;
      right: -400px;
      top: 0;
      width: 380px;
      height: 100%;
      background: rgba(18, 22, 26, 0.98);
      border-left: 1px solid rgba(100, 255, 218, 0.3);
      box-shadow: -4px 0 30px rgba(0, 0, 0, 0.5);
      z-index: 999;
      transition: right 0.4s ease;
      overflow-y: auto;
      padding: 24px;
    }

    .help-panel.active {
      right: 0;
    }

    .help-panel::-webkit-scrollbar {
      width: 6px;
    }

    .help-panel::-webkit-scrollbar-track {
      background: rgba(30, 35, 40, 0.4);
    }

    .help-panel::-webkit-scrollbar-thumb {
      background: rgba(100, 255, 218, 0.3);
      border-radius: 3px;
    }

    .help-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 24px;
      padding-bottom: 16px;
      border-bottom: 1px solid rgba(100, 255, 218, 0.2);
    }

    .help-title {
      color: #64ffda;
      font-size: 20px;
      font-weight: 500;
    }

    .close-help {
      background: none;
      border: none;
      color: #8b949e;
      font-size: 28px;
      cursor: pointer;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 4px;
      transition: all 0.3s;
      line-height: 1;
    }

    .close-help:hover {
      background: rgba(100, 255, 218, 0.1);
      color: #64ffda;
    }

    .help-section {
      margin-bottom: 28px;
    }

    .help-section-title {
      color: #64ffda;
      font-size: 14px;
      text-transform: uppercase;
      letter-spacing: 1.5px;
      margin-bottom: 12px;
      opacity: 0.8;
    }

    .help-command {
      background: rgba(30, 35, 40, 0.6);
      border: 1px solid rgba(100, 255, 218, 0.15);
      border-radius: 8px;
      padding: 12px 14px;
      margin-bottom: 10px;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .help-command:hover {
      background: rgba(100, 255, 218, 0.05);
      border-color: rgba(100, 255, 218, 0.4);
      transform: translateX(-4px);
    }

    .help-command-name {
      color: #64ffda;
      font-size: 14px;
      font-weight: 500;
    }

    .help-command-desc {
      color: #8b949e;
      font-size: 12px;
      line-height: 1.4;
    }

    .help-tip {
      background: rgba(100, 255, 218, 0.05);
      border: 1px solid rgba(100, 255, 218, 0.2);
      border-radius: 8px;
      padding: 12px;
      color: #c9d1d9;
      font-size: 12px;
      line-height: 1.5;
      margin-top: 20px;
    }

    .help-tip-icon {
      color: #64ffda;
      margin-right: 6px;
    }



    @media (max-width: 768px) {
      .container {
        padding: 12px;
        align-items: flex-start;
      }

      .terminal {
        margin-top: 20px;
        max-width: 100%;
      }

      .terminal-body {
        padding: 16px;
        font-size: 13px;
        max-height: 60vh;
      }

      .terminal-header {
        padding: 10px 12px;
      }

      .terminal-title {
        font-size: 11px;
      }

      .floating-help {
        bottom: 20px;
        right: 20px;
        width: 48px;
        height: 48px;
        font-size: 20px;
      }

      .auth-container {
        padding: 24px;
      }

      .help-panel {
        width: 100%;
        right: -100%;
      }
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <div class="container">
   <div class="terminal">
    <div class="terminal-header">
     <div class="terminal-buttons">
      <div class="terminal-button red"></div>
      <div class="terminal-button yellow"></div>
      <div class="terminal-button green"></div>
     </div>
     <div class="terminal-title" id="terminalTitle">
      @guest
     </div>
    </div>
    <div class="terminal-body" id="terminalBody">
     <div id="output"></div>
     <div class="command-input-line"><span class="prompt" id="promptText">guest$</span>
      <div class="command-input-wrapper"><input type="text" id="commandInput" autocomplete="off" spellcheck="false" autofocus>
      </div>
     </div>
    </div>
   </div>
  </div><!-- Floating Help Button --> <button class="floating-help" id="helpButton" title="Help">?</button> <!-- Help Panel -->
  <div class="help-panel" id="helpPanel">
   <div class="help-header">
    <div class="help-title">
     üìö Command Guide
    </div><button class="close-help" id="closeHelp">√ó</button>
   </div>
   <div class="help-section">
    <div class="help-section-title">
     üåê Social Links
    </div>
    <div class="help-command" data-command="linkedin">
     <div class="help-command-name">
      linkedin
     </div>
     <div class="help-command-desc">
      Open my LinkedIn profile
     </div>
    </div>
    <div class="help-command" data-command="instagram">
     <div class="help-command-name">
      instagram
     </div>
     <div class="help-command-desc">
      Open my Instagram profile
     </div>
    </div>
    <div class="help-command" data-command="github">
     <div class="help-command-name">
      github
     </div>
     <div class="help-command-desc">
      View my GitHub repositories
     </div>
    </div>
    <div class="help-command" data-command="email">
     <div class="help-command-name">
      email
     </div>
     <div class="help-command-desc">
      Send me an email
     </div>
    </div>
   </div>
   <div class="help-section">
    <div class="help-section-title">
     ‚ÑπÔ∏è About Me
    </div>
    <div class="help-command" data-command="about">
     <div class="help-command-name">
      about
     </div>
     <div class="help-command-desc">
      Learn about what I do
     </div>
    </div>
    <div class="help-command" data-command="whoami">
     <div class="help-command-name">
      whoami
     </div>
     <div class="help-command-desc">
      Get to know me better
     </div>
    </div>
    <div class="help-command" data-command="skills">
     <div class="help-command-name">
      skills
     </div>
     <div class="help-command-desc">
      See my technical skills
     </div>
    </div>
    <div class="help-command" data-command="projects">
     <div class="help-command-name">
      projects
     </div>
     <div class="help-command-desc">
      Check out my projects
     </div>
    </div>
   </div>
   <div class="help-tip"><span class="help-tip-icon">üí°</span> <strong>Tip:</strong> Click any command above to automatically type it in the terminal, or type it manually!
   </div>
  </div>
  <script>
    const defaultConfig = {
      greeting_line_1: "hii @guest",
      greeting_line_2: "i am @sonu",
      greeting_line_3: "explore my digital space where ideas meet innovation.",
      name_prompt: "what's your name? (or type 'skip')",
      linkedin_url: "https://www.linkedin.com/in/thesonu",
      instagram_url: "https://instagram.com/_thesonu",
      github_url: "https://github.com/sonu-dce",
      email_address: "thesonukr@outlook.com",
      about_text: "founder of notebox - currently in development phase. learning and building small things for my startup journey.",
      whoami_text: "hii, i am @sonu, founder of notebox. passionate about building products that solve real problems. currently learning and growing every day.",
      skills_text: "HTML, CSS, C Programming, JavaScript (learning)",
      projects_text: "Notebox|A note sharing platform and social media for students and professionals"
    };

    let waitingForName = false;
    let commandHistory = [];

    async function onConfigChange(config) {
      // Config changes handled
    }

    const capabilities = {
      recolorables: [
        {
          get: () => window.elementSdk?.config?.accent_color || defaultConfig.accent_color || "#64ffda",
          set: (value) => {
            if (window.elementSdk) {
              window.elementSdk.config.accent_color = value;
              window.elementSdk.setConfig({ accent_color: value });
            }
          }
        }
      ],
      borderables: [],
      fontEditable: {
        get: () => window.elementSdk?.config?.font_family || defaultConfig.font_family || "'Fira Code', monospace",
        set: (value) => {
          if (window.elementSdk) {
            window.elementSdk.config.font_family = value;
            window.elementSdk.setConfig({ font_family: value });
          }
        }
      },
      fontSizeable: {
        get: () => window.elementSdk?.config?.font_size || defaultConfig.font_size || 14,
        set: (value) => {
          if (window.elementSdk) {
            window.elementSdk.config.font_size = value;
            window.elementSdk.setConfig({ font_size: value });
          }
        }
      }
    };

    function mapToCapabilities(config) {
      return capabilities;
    }

    function mapToEditPanelValues(config) {
      return new Map([
        ["greeting_line_1", config.greeting_line_1 || defaultConfig.greeting_line_1],
        ["greeting_line_2", config.greeting_line_2 || defaultConfig.greeting_line_2],
        ["greeting_line_3", config.greeting_line_3 || defaultConfig.greeting_line_3],
        ["name_prompt", config.name_prompt || defaultConfig.name_prompt],
        ["linkedin_url", config.linkedin_url || defaultConfig.linkedin_url],
        ["instagram_url", config.instagram_url || defaultConfig.instagram_url],
        ["github_url", config.github_url || defaultConfig.github_url],
        ["email_address", config.email_address || defaultConfig.email_address],
        ["about_text", config.about_text || defaultConfig.about_text],
        ["whoami_text", config.whoami_text || defaultConfig.whoami_text],
        ["skills_text", config.skills_text || defaultConfig.skills_text],
        ["projects_text", config.projects_text || defaultConfig.projects_text]
      ]);
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    }

    const output = document.getElementById('output');
    const commandInput = document.getElementById('commandInput');
    const terminalTitle = document.getElementById('terminalTitle');
    const promptText = document.getElementById('promptText');

    async function typewriterEffect(lines, delay = 50) {
      for (const line of lines) {
        const lineDiv = document.createElement('div');
        lineDiv.className = 'terminal-line';
        output.appendChild(lineDiv);

        for (let i = 0; i < line.length; i++) {
          lineDiv.textContent += line[i];
          await new Promise(resolve => setTimeout(resolve, delay));
        }
        
        await new Promise(resolve => setTimeout(resolve, 200));
      }
    }

    function getConfig() {
      return window.elementSdk?.config || defaultConfig;
    }

    function addOutput(html) {
      const outputDiv = document.createElement('div');
      outputDiv.className = 'terminal-output';
      outputDiv.innerHTML = html;
      output.appendChild(outputDiv);
      scrollToBottom();
    }

    function scrollToBottom() {
      const terminalBody = document.getElementById('terminalBody');
      terminalBody.scrollTop = terminalBody.scrollHeight;
    }

    function updateUserDisplay(username) {
      terminalTitle.textContent = `@${username}`;
      promptText.textContent = `${username}$`;
    }

    function executeCommand(cmd) {
      const config = getConfig();
      const command = cmd.trim().toLowerCase();
      
      // Handle name input
      if (waitingForName) {
        addOutput(`<span class="prompt">${promptText.textContent}</span> ${cmd}`);
        waitingForName = false;
        
        if (command === 'skip') {
          addOutput(`<div class="command-output">okay, continuing as guest! type <span class="accent">help</span> to see available commands.</div>`);
        } else if (cmd.trim()) {
          const name = cmd.trim();
          updateUserDisplay(name);
          addOutput(`<div class="command-output success">welcome, ${name}! üéâ type <span class="accent">help</span> to see available commands.</div>`);
        }
        return;
      }

      addOutput(`<span class="prompt">${promptText.textContent}</span> ${cmd}`);

      switch(command) {
        case 'help':
          addOutput(`
            <div class="command-output">
              opening help panel... click the <span class="accent">?</span> button on the right or check the side panel!
            </div>
          `);
          helpPanel.classList.add('active');
          break;

        case 'linkedin':
          const linkedinWindow = window.open(config.linkedin_url || defaultConfig.linkedin_url, '_blank');
          if (!linkedinWindow) {
            addOutput(`
              <div class="command-output error">
                popup blocked. please allow popups or <a href="${config.linkedin_url || defaultConfig.linkedin_url}" target="_blank" rel="noopener noreferrer">click here</a>
              </div>
            `);
          } else {
            addOutput(`
              <div class="command-output">
                opening linkedin...
                <div class="link-item">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/>
                  </svg>
                  <a href="${config.linkedin_url || defaultConfig.linkedin_url}" target="_blank" rel="noopener noreferrer">${config.linkedin_url || defaultConfig.linkedin_url}</a>
                </div>
              </div>
            `);
          }
          break;

        case 'instagram':
          addOutput(`
            <div class="command-output">
              <div class="link-item">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                  <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                </svg>
                <span>@_thesonu</span>
              </div>
              <div style="margin-top: 8px; color: #8b949e; font-size: 12px; padding-left: 32px;">
                note: direct instagram links don't work in this environment. please search for the username on instagram!
              </div>
            </div>
          `);
          break;

        case 'github':
          const githubWindow = window.open(config.github_url || defaultConfig.github_url, '_blank');
          if (!githubWindow) {
            addOutput(`
              <div class="command-output error">
                popup blocked. please allow popups or <a href="${config.github_url || defaultConfig.github_url}" target="_blank" rel="noopener noreferrer">click here</a>
              </div>
            `);
          } else {
            addOutput(`
              <div class="command-output">
                opening github...
                <div class="link-item">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                  </svg>
                  <a href="${config.github_url || defaultConfig.github_url}" target="_blank" rel="noopener noreferrer">${config.github_url || defaultConfig.github_url}</a>
                </div>
              </div>
            `);
          }
          break;

        case 'email':
          window.open('mailto:' + (config.email_address || defaultConfig.email_address), '_blank');
          addOutput(`
            <div class="command-output">
              opening email client...
              <div class="link-item">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                  <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
                </svg>
                <a href="mailto:${config.email_address || defaultConfig.email_address}">${config.email_address || defaultConfig.email_address}</a>
              </div>
            </div>
          `);
          break;

        case 'about':
          addOutput(`
            <div class="command-output">
              ${config.about_text || defaultConfig.about_text}
            </div>
          `);
          break;

        case 'whoami':
          addOutput(`
            <div class="command-output">
              ${config.whoami_text || defaultConfig.whoami_text}
            </div>
          `);
          break;

        case 'skills':
          const skills = (config.skills_text || defaultConfig.skills_text).split(',').map(s => s.trim());
          const skillsHtml = skills.map(skill => `<div class="command-item">- ${skill}</div>`).join('');
          addOutput(`
            <div class="command-output">
              my skills:
              <div class="command-list">
                ${skillsHtml}
              </div>
            </div>
          `);
          break;

        case 'projects':
          const projects = (config.projects_text || defaultConfig.projects_text).split(',').map(p => p.trim());
          const projectsHtml = projects.map(project => {
            const [name, desc] = project.split('|');
            return `<div class="command-item"><span class="accent">${name}</span> ‚Äì ${desc}</div>`;
          }).join('');
          addOutput(`
            <div class="command-output">
              my projects:
              <div class="command-list">
                ${projectsHtml}
              </div>
            </div>
          `);
          break;

        default:
          if (command) {
            addOutput(`
              <div class="command-output error">
                command not found. click the <span class="accent">?</span> button for help.
              </div>
            `);
          }
          break;
      }
    }

    commandInput.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') {
        e.preventDefault();
        const command = commandInput.value;
        if (command.trim()) {
          executeCommand(command);
          commandHistory.push(command);
        }
        commandInput.value = '';
      }
    });

    // Help Panel Functions
    const helpPanel = document.getElementById('helpPanel');
    const helpButton = document.getElementById('helpButton');
    const closeHelp = document.getElementById('closeHelp');

    helpButton.addEventListener('click', () => {
      helpPanel.classList.add('active');
    });

    closeHelp.addEventListener('click', () => {
      helpPanel.classList.remove('active');
    });

    // Click on help commands to auto-execute
    document.querySelectorAll('.help-command').forEach(cmd => {
      cmd.addEventListener('click', () => {
        const command = cmd.getAttribute('data-command');
        commandInput.value = command;
        helpPanel.classList.remove('active');
        commandInput.focus();
        
        // Auto execute after a short delay
        setTimeout(() => {
          executeCommand(command);
          commandInput.value = '';
        }, 300);
      });
    });



    async function init() {
      const config = getConfig();
      const greetingLines = [
        config.greeting_line_1 || defaultConfig.greeting_line_1,
        config.greeting_line_2 || defaultConfig.greeting_line_2,
        config.greeting_line_3 || defaultConfig.greeting_line_3
      ];
      
      await typewriterEffect(greetingLines, 30);
      
      // Ask for name
      await new Promise(resolve => setTimeout(resolve, 300));
      addOutput(`<div class="command-output">${config.name_prompt || defaultConfig.name_prompt}</div>`);
      waitingForName = true;
      
      commandInput.focus();
    }

    init();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9aa4b9af7073257c',t:'MTc2NTExNzg3My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
